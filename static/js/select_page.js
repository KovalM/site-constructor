// Generated by CoffeeScript 1.9.3
(function() {
  var load_page;

  $(document).ready(function() {
    return $("#page_group").live(function() {
      return alert("tree changed");
    });
  });

  window.onload = function() {
    if ($('.page-select').length) {
      $('.page-select:first').addClass('curr_page');
      return load_page();
    }
  };

  $(function() {
    $('.page-select').click(function() {
      var content, id_curr_page;
      id_curr_page = $('.curr_page').attr("id_page");
      content = "";
      $.each($('.for-padding').children(), function(index, val) {
        return content += val.outerHTML;
      });
      $.ajax({
        url: "/editor/" + $('h2').attr("id_project") + '/',
        type: "GET",
        data: {
          'id_page': id_curr_page,
          'content': content
        },
        async: false,
        success: function() {},
        error: function() {
          return alert('gyjudvasf');
        }
      });
      $('.page-select').removeClass('curr_page');
      $('.for-padding').children().remove();
      $(this).addClass('curr_page');
      return load_page();
    });
    return $('#droppable').on('mousemove', function() {});
  });

  load_page = function() {
    var id;
    id = $('.curr_page').attr("id_page");
    console.log(id);
    return $.ajax({
      url: "/editor/" + $('h2').attr("id_project") + '/',
      type: "GET",
      data: {
        'id_return_page': id
      },
      async: false,
      success: function(data) {
        return $('.for-padding').append(data.page);
      }
    });
  };

}).call(this);

//# sourceMappingURL=select_page.js.map
